<section class="content-header">
  <h1>
   Work Creation
    <small>Control panel</small>
  </h1>
</section>
<section class="content">
  <div class="row">
    <div class="col-sm-6 col-md-offset-3">
      <div class="box box-success">
        <div class="box-header with-border">
          <h3 class="box-title">Create a new work here</h3>
        </div>
        <form name="workCreate">
          <div class="box-body">
            <div class="row">
              <div class="col-xs-12 col-md-10 col-md-offset-1">
                <div class="form-group col-xs-12 col-md-12" ng-class="{'has-error':workCreate.work_name.$touched && workCreate.work_name.$invalid}">
                  <label for="uname" class="control-label">Work Name:</label>
                  <input type="text" name="work_name" ng-model="createWork.workName" class="form-control" placeholder="Work Name" required >

                  <span class="help-block" ng-show="workCreate.work_name.$error.required && workCreate.work_name.$touched">Please enter a valid description</span>
                </div>
                <div class="checkbox form-group col-xs-12 col-md-12"  ng-show="checkAdmin()" >
                  <label>
                    <input type="checkbox" name="internal_user" ng-model="createWork.isInternal" > Internal job Creation
                  </label>
                </div>
                <div class="form-group col-xs-12 col-md-12" ng-class="{'has-error':workCreate.client_name.$touched && workCreate.client_name.$invalid}" ng-controller="Main_Controller" ng-hide ="createWork.isInternal" ng-init="getClientUsers()">
                  <label for="uname" class="control-label">Client:</label>
                   <select class="form-control" name="client_name" ng-model="createWork.createdFor">
                              <option value=""><i class="fa fa-sort-desc">select a client</i></option>
                              <option ng-value="client._id" ng-repeat="client in clientUsers">{{client.email}}</option>
                            </select>

                  <span class="help-block" ng-if="!createWork.createdFor">Enter the Client for whom work will be created</span>
                </div>

                <div class="row">
                  <div class="col-xs-6" ng-init="getJobCategoryList()">
                    <div class="form-group col-xs-12 col-md-12" ng-class="{'has-error':workCreate.task_category.$touched && workCreate.task_category.$invalid}">
                      <label for="uname" class="control-label">Category</label>
                      <select class="form-control" name="task_category" ng-model="createWork.category" ng-change="getAssignmentList()" required>
							          			<option value=""><i class="fa fa-sort-desc">select Job category</i></option>
							          			<option ng-value="categories.category" ng-repeat="categories in categoryList track by $index" ng-hide="$last">{{categories.category}}</option>
							          		</select>
                      <span class="help-block" ng-show="workCreate.task_category.$error.required && workCreate.task_category.$touched">Please select Job category</span>
                    </div>
                  </div>
                  <div class="col-xs-6">
                    <div class="form-group col-xs-12 col-md-12" ng-class="{'has-error':workCreate.task_name.$touched && workCreate.task_name.$invalid}">
                      <label for="uname" class="control-label">Assignment</label>
                      <select class="form-control" name="task_name" ng-model="createWork.assignment"  required>
							          			<option value=""><i class="fa fa-sort-desc">Select Assignment</i></option>
							          			<option ng-value="assignments" ng-repeat="assignments in assignmentList track by $index">{{assignments}}</option>
							       </select>
                      <span class="help-block" ng-show="workCreate.task_name.$error.required && workCreate.task_name.$touched">Please Select One Assignment </span>
                    </div>
                  </div>
                <!--   <div class="col-xs-6" ng-if="task.showReturnFile" ng-init="getReturnFiles()">
                    <div class="form-group col-xs-12 col-md-12" ng-class="{'has-error':workCreate.task_name.$touched && workCreate.task_name.$invalid}">
                      <label for="uname" class="control-label">Return files</label>
                      <select  class="form-control" ng-options="returnFile as returnFile.itrId for returnFile in task.returnFiles track by returnFile.id" ng-model="task.selectedreturnFile"></select>
                      <span class="help-block" ng-show="workCreate.task_name.$error.required && workCreate.task_name.$touched">Please Select One Assignment </span>
                    </div>
                  </div> -->
                </div>


                <div class="form-group col-xs-12 col-md-12" ng-class="{'has-error':workCreate.task_desc.$touched && workCreate.task_desc.$invalid}">
                  <label for="uname" class="control-label">Task Description:</label>
                  <textarea placeholder="Task Description" name="task_desc" class="form-control" ng-model="createWork.description" required></textarea>

                  <span class="help-block" ng-show="workCreate.task_desc.$error.required && workCreate.task_desc.$touched">Please enter a valid description</span>
                </div>


							
							</div>
				   		</div>
					</div>
				   	<div class="box-footer">
					 	<button type="submit" class="btn btn-default"  ui-sref="dashboard">Back</button>
					  	<button type="submit" ng-disabled="workCreate.$invalid" class="btn btn-info pull-right" ng-click="taskCreation()">Submit</button>
					</div>
		        </form>
			</div>
		</div>
	</div>

</section>
